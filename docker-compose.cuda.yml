version: "3"

services:
  libretranslate-cuda:
    container_name: libretranslate-cuda
    build:
      context: .
      dockerfile: docker/cuda.Dockerfile
    runtime: nvidia
    restart: unless-stopped
    environment:
      - LT_DEBUG=True
      - FLASK_DEBUG=True
    ports:
      - "5001:5000"
#    deploy:
#      resources:
#        reservations:
#          devices:
#            - driver: nvidia
#              count: 1
#              capabilities: [gpu]
